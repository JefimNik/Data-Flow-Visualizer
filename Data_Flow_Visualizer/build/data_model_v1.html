<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Data Flow Visualizer</title>
<script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
<style>
  body {margin:0;display:flex;height:100vh;background:#111;color:#eee;font-family:"Segoe UI",sans-serif;}
  #mynetwork {flex:2;background:#1b1b1b;}
  #details {flex:1;background:#141414;padding:12px;overflow-y:auto;border-left:2px solid #222;}
  #filter {padding:10px;border-bottom:1px solid #333;background:#1d1d1d;}
  table {border-collapse:collapse;width:100%;font-size:13px;margin-top:8px;}
  th,td {border:1px solid #333;padding:4px 6px;word-break:break-word;}
  th {background:#222;color:#ffdf6b;}
</style>
</head>
<body>
<div id="mynetwork"></div>
<div id="details">
<div id="filter">
  <b>Фильтр по типу данных:</b><br>
  <label><input type="checkbox" class="dtype" value="materials" checked> materials</label><br>
  <label><input type="checkbox" class="dtype" value="progress" checked> progress</label><br>
  <label><input type="checkbox" class="dtype" value="hours" checked> hours</label><br>
  <label><input type="checkbox" class="dtype" value="cost" checked> cost</label><br>
  <label><input type="checkbox" class="dtype" value="workers" checked> workers</label><br>
  <label><input type="checkbox" class="dtype" value="documents" checked> documents</label><br>

  <hr style="margin:8px 0;border:0;border-top:1px solid #333">
  <b>Фильтр по типу передачи:</b><br>
  <label><input type="checkbox" class="ttype" value="pq" checked> pq</label><br>
  <label><input type="checkbox" class="ttype" value="manual" checked> manual</label><br>
  <label><input type="checkbox" class="ttype" value="planned" checked> planned</label><br>
</div>
  <div id="info"><p>Нажмите на узел или стрелку</p></div>
</div>

<script id="NODE_DATA" type="application/json">{"INF_Server_1": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_1", "columns": []}, "INF_Server_2": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_2", "columns": []}, "INF_Server_3": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_3", "columns": []}, "INF_Server_4": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_4", "columns": []}, "INF_Server_5": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_5", "columns": []}, "INF_Server_6": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_6", "columns": []}, "INF_Server_7": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_7", "columns": []}, "INF_Server_8": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_8", "columns": []}, "INF_Server_9": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_9", "columns": []}, "INF_Server_10": {"layer": "Infrastructure", "type": "Server", "comment": "Infrastructure node INF_Server_10", "columns": []}, "DB_Main_1": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_1", "columns": []}, "DB_Main_2": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_2", "columns": []}, "DB_Main_3": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_3", "columns": []}, "DB_Main_4": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_4", "columns": []}, "DB_Main_5": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_5", "columns": []}, "DB_Main_6": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_6", "columns": []}, "DB_Main_7": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_7", "columns": []}, "DB_Main_8": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_8", "columns": []}, "DB_Main_9": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_9", "columns": []}, "DB_Main_10": {"layer": "Data", "type": "Database", "comment": "Data node DB_Main_10", "columns": []}, "APP_Module_1": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_1", "columns": []}, "APP_Module_2": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_2", "columns": []}, "APP_Module_3": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_3", "columns": []}, "APP_Module_4": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_4", "columns": []}, "APP_Module_5": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_5", "columns": []}, "APP_Module_6": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_6", "columns": []}, "APP_Module_7": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_7", "columns": []}, "APP_Module_8": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_8", "columns": []}, "APP_Module_9": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_9", "columns": []}, "APP_Module_10": {"layer": "Application", "type": "Service", "comment": "Application node APP_Module_10", "columns": []}, "BUS_Department_1": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_1", "columns": []}, "BUS_Department_2": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_2", "columns": []}, "BUS_Department_3": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_3", "columns": []}, "BUS_Department_4": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_4", "columns": []}, "BUS_Department_5": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_5", "columns": []}, "BUS_Department_6": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_6", "columns": []}, "BUS_Department_7": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_7", "columns": []}, "BUS_Department_8": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_8", "columns": []}, "BUS_Department_9": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_9", "columns": []}, "BUS_Department_10": {"layer": "Business", "type": "Department", "comment": "Business node BUS_Department_10", "columns": []}, "REP_System_1": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_1", "columns": []}, "REP_System_2": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_2", "columns": []}, "REP_System_3": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_3", "columns": []}, "REP_System_4": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_4", "columns": []}, "REP_System_5": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_5", "columns": []}, "REP_System_6": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_6", "columns": []}, "REP_System_7": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_7", "columns": []}, "REP_System_8": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_8", "columns": []}, "REP_System_9": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_9", "columns": []}, "REP_System_10": {"layer": "Reporting", "type": "BI", "comment": "Reporting node REP_System_10", "columns": []}}</script>
<script id="VIS_NODES" type="application/json">[{"id": "INF_Server_1", "label": "INF_Server_1\n(Infrastructure)", "group": "Infrastructure", "mass": 4, "value": 30}, {"id": "INF_Server_2", "label": "INF_Server_2\n(Infrastructure)", "group": "Infrastructure", "mass": 4, "value": 30}, {"id": "INF_Server_3", "label": "INF_Server_3\n(Infrastructure)", "group": "Infrastructure", "mass": 4, "value": 30}, {"id": "INF_Server_4", "label": "INF_Server_4\n(Infrastructure)", "group": "Infrastructure", "mass": 4, "value": 30}, {"id": "INF_Server_5", "label": "INF_Server_5\n(Infrastructure)", "group": "Infrastructure", "mass": 4, "value": 30}, {"id": "INF_Server_6", "label": "INF_Server_6\n(Infrastructure)", "group": "Infrastructure", "mass": 2, "value": 24}, {"id": "INF_Server_7", "label": "INF_Server_7\n(Infrastructure)", "group": "Infrastructure", "mass": 2, "value": 24}, {"id": "INF_Server_8", "label": "INF_Server_8\n(Infrastructure)", "group": "Infrastructure", "mass": 2, "value": 24}, {"id": "INF_Server_9", "label": "INF_Server_9\n(Infrastructure)", "group": "Infrastructure", "mass": 2, "value": 24}, {"id": "INF_Server_10", "label": "INF_Server_10\n(Infrastructure)", "group": "Infrastructure", "mass": 2, "value": 24}, {"id": "DB_Main_1", "label": "DB_Main_1\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_2", "label": "DB_Main_2\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_3", "label": "DB_Main_3\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_4", "label": "DB_Main_4\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_5", "label": "DB_Main_5\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_6", "label": "DB_Main_6\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_7", "label": "DB_Main_7\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_8", "label": "DB_Main_8\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_9", "label": "DB_Main_9\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "DB_Main_10", "label": "DB_Main_10\n(Data)", "group": "Data", "mass": 5, "value": 33}, {"id": "APP_Module_1", "label": "APP_Module_1\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_2", "label": "APP_Module_2\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_3", "label": "APP_Module_3\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_4", "label": "APP_Module_4\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_5", "label": "APP_Module_5\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_6", "label": "APP_Module_6\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_7", "label": "APP_Module_7\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_8", "label": "APP_Module_8\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_9", "label": "APP_Module_9\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "APP_Module_10", "label": "APP_Module_10\n(Application)", "group": "Application", "mass": 4, "value": 30}, {"id": "BUS_Department_1", "label": "BUS_Department_1\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_2", "label": "BUS_Department_2\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_3", "label": "BUS_Department_3\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_4", "label": "BUS_Department_4\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_5", "label": "BUS_Department_5\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_6", "label": "BUS_Department_6\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_7", "label": "BUS_Department_7\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_8", "label": "BUS_Department_8\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_9", "label": "BUS_Department_9\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "BUS_Department_10", "label": "BUS_Department_10\n(Business)", "group": "Business", "mass": 5, "value": 33}, {"id": "REP_System_1", "label": "REP_System_1\n(Reporting)", "group": "Reporting", "mass": 2, "value": 24}, {"id": "REP_System_2", "label": "REP_System_2\n(Reporting)", "group": "Reporting", "mass": 2, "value": 24}, {"id": "REP_System_3", "label": "REP_System_3\n(Reporting)", "group": "Reporting", "mass": 2, "value": 24}, {"id": "REP_System_4", "label": "REP_System_4\n(Reporting)", "group": "Reporting", "mass": 2, "value": 24}, {"id": "REP_System_5", "label": "REP_System_5\n(Reporting)", "group": "Reporting", "mass": 2, "value": 24}, {"id": "REP_System_6", "label": "REP_System_6\n(Reporting)", "group": "Reporting", "mass": 3, "value": 27}, {"id": "REP_System_7", "label": "REP_System_7\n(Reporting)", "group": "Reporting", "mass": 3, "value": 27}, {"id": "REP_System_8", "label": "REP_System_8\n(Reporting)", "group": "Reporting", "mass": 3, "value": 27}, {"id": "REP_System_9", "label": "REP_System_9\n(Reporting)", "group": "Reporting", "mass": 3, "value": 27}, {"id": "REP_System_10", "label": "REP_System_10\n(Reporting)", "group": "Reporting", "mass": 3, "value": 27}]</script>
<script id="VIS_EDGES" type="application/json">[{"id": "edge_0_INF_Server_1_DB_Main_1", "from": "INF_Server_1", "to": "DB_Main_1", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_1_DB_Main_1_APP_Module_1", "from": "DB_Main_1", "to": "APP_Module_1", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_2_APP_Module_1_BUS_Department_1", "from": "APP_Module_1", "to": "BUS_Department_1", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_3_BUS_Department_1_REP_System_1", "from": "BUS_Department_1", "to": "REP_System_1", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_4_INF_Server_2_DB_Main_2", "from": "INF_Server_2", "to": "DB_Main_2", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_5_DB_Main_2_APP_Module_2", "from": "DB_Main_2", "to": "APP_Module_2", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_6_APP_Module_2_BUS_Department_2", "from": "APP_Module_2", "to": "BUS_Department_2", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_7_BUS_Department_2_REP_System_2", "from": "BUS_Department_2", "to": "REP_System_2", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_8_INF_Server_3_DB_Main_3", "from": "INF_Server_3", "to": "DB_Main_3", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_9_DB_Main_3_APP_Module_3", "from": "DB_Main_3", "to": "APP_Module_3", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_10_APP_Module_3_BUS_Department_3", "from": "APP_Module_3", "to": "BUS_Department_3", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_11_BUS_Department_3_REP_System_3", "from": "BUS_Department_3", "to": "REP_System_3", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_12_INF_Server_4_DB_Main_4", "from": "INF_Server_4", "to": "DB_Main_4", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_13_DB_Main_4_APP_Module_4", "from": "DB_Main_4", "to": "APP_Module_4", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_14_APP_Module_4_BUS_Department_4", "from": "APP_Module_4", "to": "BUS_Department_4", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_15_BUS_Department_4_REP_System_4", "from": "BUS_Department_4", "to": "REP_System_4", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_16_INF_Server_5_DB_Main_5", "from": "INF_Server_5", "to": "DB_Main_5", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_17_DB_Main_5_APP_Module_5", "from": "DB_Main_5", "to": "APP_Module_5", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_18_APP_Module_5_BUS_Department_5", "from": "APP_Module_5", "to": "BUS_Department_5", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_19_BUS_Department_5_REP_System_5", "from": "BUS_Department_5", "to": "REP_System_5", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_20_INF_Server_6_DB_Main_6", "from": "INF_Server_6", "to": "DB_Main_6", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_21_DB_Main_6_APP_Module_6", "from": "DB_Main_6", "to": "APP_Module_6", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_22_APP_Module_6_BUS_Department_6", "from": "APP_Module_6", "to": "BUS_Department_6", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_23_BUS_Department_6_REP_System_6", "from": "BUS_Department_6", "to": "REP_System_6", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_24_INF_Server_7_DB_Main_7", "from": "INF_Server_7", "to": "DB_Main_7", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_25_DB_Main_7_APP_Module_7", "from": "DB_Main_7", "to": "APP_Module_7", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_26_APP_Module_7_BUS_Department_7", "from": "APP_Module_7", "to": "BUS_Department_7", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_27_BUS_Department_7_REP_System_7", "from": "BUS_Department_7", "to": "REP_System_7", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_28_INF_Server_8_DB_Main_8", "from": "INF_Server_8", "to": "DB_Main_8", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_29_DB_Main_8_APP_Module_8", "from": "DB_Main_8", "to": "APP_Module_8", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_30_APP_Module_8_BUS_Department_8", "from": "APP_Module_8", "to": "BUS_Department_8", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_31_BUS_Department_8_REP_System_8", "from": "BUS_Department_8", "to": "REP_System_8", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_32_INF_Server_9_DB_Main_9", "from": "INF_Server_9", "to": "DB_Main_9", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_33_DB_Main_9_APP_Module_9", "from": "DB_Main_9", "to": "APP_Module_9", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_34_APP_Module_9_BUS_Department_9", "from": "APP_Module_9", "to": "BUS_Department_9", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_35_BUS_Department_9_REP_System_9", "from": "BUS_Department_9", "to": "REP_System_9", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_36_INF_Server_10_DB_Main_10", "from": "INF_Server_10", "to": "DB_Main_10", "transfer": [], "transfer_type": "pq", "data_type": "infra", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_37_DB_Main_10_APP_Module_10", "from": "DB_Main_10", "to": "APP_Module_10", "transfer": [], "transfer_type": "planned", "data_type": "core", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_38_APP_Module_10_BUS_Department_10", "from": "APP_Module_10", "to": "BUS_Department_10", "transfer": [], "transfer_type": "manual", "data_type": "operations", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_39_BUS_Department_10_REP_System_10", "from": "BUS_Department_10", "to": "REP_System_10", "transfer": [], "transfer_type": "pq", "data_type": "reports", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_40_INF_Server_1_APP_Module_6", "from": "INF_Server_1", "to": "APP_Module_6", "transfer": [], "transfer_type": "planned", "data_type": "infra_app", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_41_DB_Main_1_BUS_Department_6", "from": "DB_Main_1", "to": "BUS_Department_6", "transfer": [], "transfer_type": "manual", "data_type": "data_to_business", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_42_APP_Module_1_REP_System_6", "from": "APP_Module_1", "to": "REP_System_6", "transfer": [], "transfer_type": "planned", "data_type": "analytics", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_43_BUS_Department_1_DB_Main_6", "from": "BUS_Department_1", "to": "DB_Main_6", "transfer": [], "transfer_type": "pq", "data_type": "feedback", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_44_INF_Server_2_APP_Module_7", "from": "INF_Server_2", "to": "APP_Module_7", "transfer": [], "transfer_type": "planned", "data_type": "infra_app", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_45_DB_Main_2_BUS_Department_7", "from": "DB_Main_2", "to": "BUS_Department_7", "transfer": [], "transfer_type": "manual", "data_type": "data_to_business", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_46_APP_Module_2_REP_System_7", "from": "APP_Module_2", "to": "REP_System_7", "transfer": [], "transfer_type": "planned", "data_type": "analytics", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_47_BUS_Department_2_DB_Main_7", "from": "BUS_Department_2", "to": "DB_Main_7", "transfer": [], "transfer_type": "pq", "data_type": "feedback", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_48_INF_Server_3_APP_Module_8", "from": "INF_Server_3", "to": "APP_Module_8", "transfer": [], "transfer_type": "planned", "data_type": "infra_app", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_49_DB_Main_3_BUS_Department_8", "from": "DB_Main_3", "to": "BUS_Department_8", "transfer": [], "transfer_type": "manual", "data_type": "data_to_business", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_50_APP_Module_3_REP_System_8", "from": "APP_Module_3", "to": "REP_System_8", "transfer": [], "transfer_type": "planned", "data_type": "analytics", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_51_BUS_Department_3_DB_Main_8", "from": "BUS_Department_3", "to": "DB_Main_8", "transfer": [], "transfer_type": "pq", "data_type": "feedback", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_52_INF_Server_4_APP_Module_9", "from": "INF_Server_4", "to": "APP_Module_9", "transfer": [], "transfer_type": "planned", "data_type": "infra_app", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_53_DB_Main_4_BUS_Department_9", "from": "DB_Main_4", "to": "BUS_Department_9", "transfer": [], "transfer_type": "manual", "data_type": "data_to_business", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_54_APP_Module_4_REP_System_9", "from": "APP_Module_4", "to": "REP_System_9", "transfer": [], "transfer_type": "planned", "data_type": "analytics", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_55_BUS_Department_4_DB_Main_9", "from": "BUS_Department_4", "to": "DB_Main_9", "transfer": [], "transfer_type": "pq", "data_type": "feedback", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_56_INF_Server_5_APP_Module_10", "from": "INF_Server_5", "to": "APP_Module_10", "transfer": [], "transfer_type": "planned", "data_type": "infra_app", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_57_DB_Main_5_BUS_Department_10", "from": "DB_Main_5", "to": "BUS_Department_10", "transfer": [], "transfer_type": "manual", "data_type": "data_to_business", "color": "rgba(207, 207, 207, 1.0)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_58_APP_Module_5_REP_System_10", "from": "APP_Module_5", "to": "REP_System_10", "transfer": [], "transfer_type": "planned", "data_type": "analytics", "color": "rgba(207, 207, 207, 0.3)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "edge_59_BUS_Department_5_DB_Main_10", "from": "BUS_Department_5", "to": "DB_Main_10", "transfer": [], "transfer_type": "pq", "data_type": "feedback", "color": "rgba(207, 207, 207, 1.0)", "dashes": false, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_0_APP_Module_1_REP_System_2", "from": "APP_Module_1", "to": "REP_System_2", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_1_BUS_Department_1_BUS_Department_2", "from": "BUS_Department_1", "to": "BUS_Department_2", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_2_INF_Server_1_DB_Main_2", "from": "INF_Server_1", "to": "DB_Main_2", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_3_DB_Main_1_Backup_Storage_1", "from": "DB_Main_1", "to": "Backup_Storage_1", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_4_APP_Module_2_REP_System_3", "from": "APP_Module_2", "to": "REP_System_3", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_5_BUS_Department_2_BUS_Department_3", "from": "BUS_Department_2", "to": "BUS_Department_3", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_6_INF_Server_2_DB_Main_3", "from": "INF_Server_2", "to": "DB_Main_3", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_7_DB_Main_2_Backup_Storage_2", "from": "DB_Main_2", "to": "Backup_Storage_2", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_8_APP_Module_3_REP_System_4", "from": "APP_Module_3", "to": "REP_System_4", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_9_BUS_Department_3_BUS_Department_4", "from": "BUS_Department_3", "to": "BUS_Department_4", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_10_INF_Server_3_DB_Main_4", "from": "INF_Server_3", "to": "DB_Main_4", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_11_DB_Main_3_Backup_Storage_3", "from": "DB_Main_3", "to": "Backup_Storage_3", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_12_APP_Module_4_REP_System_5", "from": "APP_Module_4", "to": "REP_System_5", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_13_BUS_Department_4_BUS_Department_5", "from": "BUS_Department_4", "to": "BUS_Department_5", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_14_INF_Server_4_DB_Main_5", "from": "INF_Server_4", "to": "DB_Main_5", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_15_DB_Main_4_Backup_Storage_4", "from": "DB_Main_4", "to": "Backup_Storage_4", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_16_APP_Module_5_REP_System_6", "from": "APP_Module_5", "to": "REP_System_6", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_17_BUS_Department_5_BUS_Department_6", "from": "BUS_Department_5", "to": "BUS_Department_6", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_18_INF_Server_5_DB_Main_6", "from": "INF_Server_5", "to": "DB_Main_6", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_19_DB_Main_5_Backup_Storage_5", "from": "DB_Main_5", "to": "Backup_Storage_5", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_20_APP_Module_6_REP_System_7", "from": "APP_Module_6", "to": "REP_System_7", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_21_BUS_Department_6_BUS_Department_7", "from": "BUS_Department_6", "to": "BUS_Department_7", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_22_INF_Server_6_DB_Main_7", "from": "INF_Server_6", "to": "DB_Main_7", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_23_DB_Main_6_INF_Server_1", "from": "DB_Main_6", "to": "INF_Server_1", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_24_APP_Module_7_REP_System_8", "from": "APP_Module_7", "to": "REP_System_8", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_25_BUS_Department_7_BUS_Department_8", "from": "BUS_Department_7", "to": "BUS_Department_8", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_26_INF_Server_7_DB_Main_8", "from": "INF_Server_7", "to": "DB_Main_8", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_27_DB_Main_7_INF_Server_2", "from": "DB_Main_7", "to": "INF_Server_2", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_28_APP_Module_8_REP_System_9", "from": "APP_Module_8", "to": "REP_System_9", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_29_BUS_Department_8_BUS_Department_9", "from": "BUS_Department_8", "to": "BUS_Department_9", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_30_INF_Server_8_DB_Main_9", "from": "INF_Server_8", "to": "DB_Main_9", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_31_DB_Main_8_INF_Server_3", "from": "DB_Main_8", "to": "INF_Server_3", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_32_APP_Module_9_REP_System_10", "from": "APP_Module_9", "to": "REP_System_10", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_33_BUS_Department_9_BUS_Department_10", "from": "BUS_Department_9", "to": "BUS_Department_10", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_34_INF_Server_9_DB_Main_10", "from": "INF_Server_9", "to": "DB_Main_10", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_35_DB_Main_9_INF_Server_4", "from": "DB_Main_9", "to": "INF_Server_4", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_36_APP_Module_10_REP_System_1", "from": "APP_Module_10", "to": "REP_System_1", "transfer": "report_flow", "transfer_type": "relation", "data_type": "weekly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_37_BUS_Department_10_BUS_Department_1", "from": "BUS_Department_10", "to": "BUS_Department_1", "transfer": "coordination", "transfer_type": "relation", "data_type": "monthly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_38_INF_Server_10_DB_Main_1", "from": "INF_Server_10", "to": "DB_Main_1", "transfer": "replication", "transfer_type": "relation", "data_type": "sync", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}, {"id": "rel_39_DB_Main_10_INF_Server_5", "from": "DB_Main_10", "to": "INF_Server_5", "transfer": "backup", "transfer_type": "relation", "data_type": "nightly", "color": "rgba(139,195,74,0.8)", "dashes": true, "arrows": {"to": {"enabled": true, "type": "arrow", "scaleFactor": 0.8}}, "length": 250}]</script>

<script>
function asText(v) {
  if (v === null || v === undefined) return "";
  return String(v);
}

const nodeData = JSON.parse(document.getElementById("NODE_DATA").textContent || "{}");
const nodesRaw = JSON.parse(document.getElementById("VIS_NODES").textContent || "[]");
const edgesRaw = JSON.parse(document.getElementById("VIS_EDGES").textContent || "[]");

const nodes = new vis.DataSet(nodesRaw);
const edges = new vis.DataSet(edgesRaw);
const container = document.getElementById("mynetwork");

const network = new vis.Network(container, { nodes, edges }, {
  physics: { enabled: true, barnesHut: { gravitationalConstant: -3000 } },
  nodes: { shape: "box", font: { color: "#0e0e0e", size: 14 }, borderWidth: 1, margin: 10,
           color: { background: "#1b1b1b", border: "#333" } },
  edges: { smooth: { type: "cubicBezier" }, width: 1.4 }
});

const info = document.getElementById("info");

network.on("click", p => {
  if (p.nodes.length > 0) {
    const id = p.nodes[0];
    const n = nodeData[id];
    if (!n) { info.innerHTML = `<h3>${asText(id)}</h3>`; return; }

    let html = `<h3>${asText(id)}</h3>
                <p><b>Тип:</b> ${asText(n.type)}</p>
                <p><b>Слой:</b> ${asText(n.layer)}</p>
                <p>${asText(n.comment)}</p>`;

    if (n.columns && n.columns.length) {
      // ✅ Берем порядок колонок из первой строки, без сортировки
      const keys = Object.keys(n.columns[0]);

      html += "<table><thead><tr>";
      keys.forEach(k => html += `<th>${asText(k)}</th>`);
      html += "</tr></thead><tbody>";

      n.columns.forEach(row => {
        html += "<tr>";
        keys.forEach(k => html += `<td>${asText(row[k])}</td>`);
        html += "</tr>";
      });

      html += "</tbody></table>";
    } else {
      html += "<p><i>Нет данных о колонках</i></p>";
    }

    info.innerHTML = html;
  }
  else if (p.edges.length > 0) {
    const e = edges.get(p.edges[0]);
    let html = `<h3>${asText(e.from)} → ${asText(e.to)}</h3>
                <p><b>Тип передачи:</b> ${asText(e.transfer_type)}</p>
                <p><b>Тип данных:</b> ${asText(e.data_type)}</p>`;
    if (e.transfer && e.transfer.length) {
      html += `<table><tr><th>Поле</th><th>Описание</th></tr>`;
      e.transfer.forEach(t => html += `<tr><td>${asText(t[0])}</td><td>${asText(t[1])}</td></tr>`);
      html += `</table>`;
    }
    info.innerHTML = html;
  }
});

// ---- фильтры ----
function applyFilters() {
  const activeData = Array.from(document.querySelectorAll('.dtype:checked')).map(c => c.value);
  const activeTransfer = Array.from(document.querySelectorAll('.ttype:checked')).map(c => c.value);
  edgesRaw.forEach(e => {
    const visible = activeData.includes(e.data_type) && activeTransfer.includes(e.transfer_type);
    edges.update({ id: e.id, hidden: !visible });
  });
}
document.querySelectorAll('.dtype, .ttype').forEach(chk => chk.addEventListener('change', applyFilters));

function highlightNode(nodeName) {
  if (!nodes.getIds().includes(nodeName)) return;
  network.selectNodes([nodeName]);
  network.focus(nodeName, { scale: 1.1, animation: true });
}
window.highlightNode = highlightNode;
</script>

</body>
</html>
